import Head from 'next/head';
import styles from '@/styles/Home.module.css';
import { useState } from 'react';
import { TextField, MenuItem, Box } from '@mui/material';
//import { DatePicker } from '@mui/x-date-pickers';
//import { AdapterDayjs } from '@mui/x-date-pickers/AdapterDayjs'


export default function Home() {
  const [Id, setId] = useState('');
  const [date, setDate] = useState(new Date());
  const [priority, setPriority] = useState('Loading...'); // LOW, MEDIUM, HIGH, URGENT
  //const [status, setStatus] = useState('');
  //const [mail, setMail] = useState('Loading...');
  const [data, setData] = useState('Loading...');
  const [sev, setSev] = useState('Small');
  const URL = 'http://urepairfreejohn1-env.eba-we2tn3yk.us-east-2.elasticbeanstalk.com/equipment/1'
    
  // const [hasData, setHasData] = useState(false)
  const severities = [
    {
      value: 'LOW',
      label: 'Low',
    },
    {
      value: 'MEDIUM',
      label: 'Medium',
    },
    {
      value: 'HIGH',

      label: 'High',
    },
    {
      value: 'URGENT',
      label: 'Urgent',
    },
  ];
  const getData = async () => {
    console.log('getData\n');
    const res = await fetch(URL);
    const dataObject = await res.json();
    const str = JSON.stringify(dataObject);
    setData(str);
  };

  const postData = async () => {
    const requestOptions = {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ title: 'React PUT Request Example' })
    };
    const res = await fetch(URL, requestOptions);
  };

  const handleIdChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setId(event.target.value);
  };
  const handleSevChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setSev(event.target.value);
  };
  /* const handleDateChange = (event: React.ChangeEvent<HTMLInputElement>) => {
    setDate(event.target.value);
  }; */


  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <main className={styles.main}>
        <div>
            <h1 className={styles.title}>
              Welcome to URepair!
            </h1>
            <Box
              component="form"
              sx={{
                '& .MuiTextField-root': { m: 1, width: '25ch' },
              }}
              noValidate
              autoComplete="off"
            >
              <TextField
                id="standard-basic"
                label="Equipment-Id"
                value={Id}
                onChange={handleIdChange}
              />
              <TextField
                id="outlined-select-currency"
                select
                label="Severity"
                defaultValue="LOW"
                onChange={handleSevChange}
              >
                {severities.map((option) => (
                  <MenuItem key={option.value} value={option.value}>
                    {option.label}
                  </MenuItem>
                ))}
              </TextField>
              <TextField
                id="standard-basic"
                label="Date"
                value={date}
                //onChange={handleDateChange}
              />
            </Box>
            {Id}
            {sev}
        </div>
      </main>
    </>
  );
}
